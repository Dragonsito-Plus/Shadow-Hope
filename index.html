<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Shadow Hope 1 ‚Äî Web Oficial</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        /* ESTILOS (Mantenemos tus estilos oscuros) */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #0f0f1a; margin: 0; padding: 0; color: #eee; }
        * { box-sizing: border-box; }
        nav { display: flex; justify-content: space-between; align-items: center; padding: 15px 30px; background: #1a1a2e; border-bottom: 2px solid #3b3b6a; position: fixed; width: 100%; top: 0; z-index: 1000; }
        .nav-left { display: flex; gap: 15px; }
        .btn-nav { background: transparent; border: 1px solid #0a6bff; color: #0a6bff; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-nav:hover { background: #0a6bff; color: #fff; }
        .btn-nav.primary { background: #0a6bff; color: #fff; }
        .menu-container { position: relative; }
        .hamburger { font-size: 28px; cursor: pointer; color: #fff; user-select: none; }
        .dropdown { display: none; position: absolute; right: 0; top: 45px; background: #1a1a2e; border: 1px solid #3b3b6a; border-radius: 8px; overflow: hidden; box-shadow: 0 8px 16px rgba(0,0,0,0.5); z-index: 100; min-width: 180px; }
        .dropdown.active { display: flex; flex-direction: column; }
        .dropdown a { padding: 15px 20px; color: #eee; text-decoration: none; border-bottom: 1px solid #2a2a40; cursor: pointer; transition: 0.2s; }
        .dropdown a:hover { background: #3b3b6a; }
        .container { max-width: 1000px; margin: 100px auto 40px; padding: 0 20px; }
        .section { display: none; animation: fadeIn 0.4s ease; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .card { background: #1f1f2e; padding: 30px; border-radius: 8px; box-shadow: 0 6px 18px rgba(0,0,0,0.3); border: 1px solid #3b3b6a; margin-bottom: 20px; }
        .product { display: flex; gap: 30px; align-items: center; flex-wrap: wrap; }
        .thumb { width: 300px; height: 300px; background: linear-gradient(135deg, #111, #3b3b6a); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: 900; font-size: 28px; text-align: center; padding: 20px; }
        .price { font-size: 28px; color: #00e676; font-weight: bold; margin: 15px 0; }
        .btn-download { background: #00e676; color: #111; padding: 15px 30px; font-size: 18px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s; width: 100%; }
        textarea { width: 100%; height: 120px; background: #111; color: #eee; border: 1px solid #3b3b6a; border-radius: 6px; padding: 15px; margin-bottom: 15px; }
        .btn-submit { background: #0a6bff; color: #fff; padding: 12px 25px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; }
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 2000; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .modal-overlay.active { display: flex; }
        .modal-content { background: #1f1f2e; padding: 30px; border-radius: 8px; border: 1px solid #3b3b6a; width: 90%; max-width: 400px; text-align: center; position: relative; }
        .close-modal { position: absolute; top: 10px; right: 15px; font-size: 28px; cursor: pointer; color: #888; }
        .modal-content input { width: 100%; padding: 12px; margin: 10px 0; background: #111; border: 1px solid #3b3b6a; color: #fff; border-radius: 4px; }
        .modal-btn { width: 100%; padding: 12px; background: #0a6bff; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; margin-top: 10px; }
        .divider { margin: 15px 0; color: #888; font-size: 12px; text-transform: uppercase; }
        .os-buttons { display: flex; flex-direction: column; gap: 15px; margin-top: 20px; }
        .btn-os { padding: 15px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 16px; }
        .btn-android { background: #3ddc84; color: #000; }
        .btn-windows { background: #00a4ef; color: #fff; }
        
        /* Contenedor del Bot√≥n Real de Google */
        #google-button-container { display: flex; justify-content: center; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div id="g_id_onload"
         data-client_id="593613328099-79dqui4ns96lbjgmumg9goclnf4ug71g.apps.googleusercontent.com"
         data-callback="handleCredentialResponse"
         data-auto_prompt="false">
    </div>

    <nav>
        <div class="nav-left" id="user-controls">
            <button class="btn-nav" onclick="openModal('login-modal')">Iniciar sesi√≥n</button>
            <button class="btn-nav primary" onclick="openModal('register-modal')">Registrarse</button>
        </div>
        <div class="menu-container">
            <div class="hamburger" onclick="toggleMenu()">‚ò∞</div>
            <div class="dropdown" id="dropdown-menu">
                <a onclick="showSection('inicio')">üè† Inicio</a>
                <a onclick="showSection('tienda')">üõí Tienda</a>
                <a onclick="showSection('comunidad')">üí¨ Comunidad</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div id="inicio" class="section active">
            <h1>Shadow Hope</h1>
            <div class="card">
                <h3>¬øQu√© tipo de juego es?</h3>
                <p><strong>Shadow Hope 1</strong> es una aventura de supervivencia donde usas la <strong>Toy Grab</strong> para interactuar con un mundo misterioso.</p>
            </div>
        </div>

        <div id="tienda" class="section">
            <h1>Tienda</h1>
            <div class="card product">
                <div class="thumb">SHADOW<br>HOPE 1</div>
                <div class="info">
                    <h2>Shadow Hope 1</h2>
                    <div class="price">¬°GRATIS!</div>
                    <button class="btn-download" onclick="openModal('download-modal')">Descargar Ahora</button>
                </div>
            </div>
        </div>

        <div id="comunidad" class="section">
            <h1>Comunidad</h1>
            <div class="card">
                <h3>Reportar un Bug</h3>
                <textarea id="bug-text" placeholder="Describe el bug aqu√≠..."></textarea>
                <button class="btn-submit" onclick="enviarBug()">Enviar Reporte</button>
            </div>
        </div>
    </div>

    <div id="download-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('download-modal')">&times;</span>
            <h2>Descargar</h2>
            <div class="os-buttons">
                <button class="btn-os btn-android" onclick="descargar('android')">Android (.apk)</button>
                <button class="btn-os btn-windows" onclick="descargar('windows')">Windows (.zip)</button>
            </div>
        </div>
    </div>

    <div id="login-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('login-modal')">&times;</span>
            <h2>Iniciar Sesi√≥n</h2>
            <div id="google-btn-login"></div>
            
            <div class="divider">o con tu correo</div>
            <input type="email" placeholder="Correo electr√≥nico">
            <input type="password" placeholder="Contrase√±a">
            <button class="modal-btn">Entrar</button>
        </div>
    </div>

    <div id="register-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('register-modal')">&times;</span>
            <h2>Crear Cuenta</h2>
            <div id="google-btn-reg"></div>
            <div class="divider">o usa tu correo</div>
            <div id="reg-p-1">
                <input type="email" placeholder="Tu correo" id="reg-mail">
                <button class="modal-btn" onclick="pasoRegistro(2)">Siguiente</button>
            </div>
            <div id="reg-p-2" style="display:none;">
                <p>Introduce el c√≥digo enviado:</p>
                <input type="text" placeholder="C√≥digo">
                <button class="modal-btn" onclick="pasoRegistro(3)">Verificar</button>
            </div>
            <div id="reg-p-3" style="display:none;">
                <input type="password" placeholder="Contrase√±a">
                <button class="modal-btn" onclick="closeModal('register-modal')">Finalizar</button>
            </div>
        </div>
    </div>

    <script>
        // --- L√ìGICA DE GOOGLE REAL ---
        window.onload = function () {
            // Renderiza el bot√≥n real de Google en ambos modales
            google.accounts.id.renderButton(
                document.getElementById("google-btn-login"),
                { theme: "outline", size: "large", width: "300" }
            );
            google.accounts.id.renderButton(
                document.getElementById("google-btn-reg"),
                { theme: "outline", size: "large", width: "300" }
            );
        }

        // Esta funci√≥n se ejecuta cuando el usuario se loguea con Google con √©xito
        function handleCredentialResponse(response) {
            console.log("Token recibido de Google: " + response.credential);
            
            // Decodificamos un poco el nombre para saludar (opcional)
            alert("¬°Sesi√≥n iniciada con Google correctamente!");
            
            // Cerramos modales y cambiamos la UI
            closeModal('login-modal');
            closeModal('register-modal');
            document.getElementById('user-controls').innerHTML = '<span style="color:#00e676; font-weight:bold;">Sesi√≥n Iniciada</span>';
        }

        // --- NAVEGACI√ìN Y MEN√öS ---
        function toggleMenu() { document.getElementById('dropdown-menu').classList.toggle('active'); }
        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.getElementById('dropdown-menu').classList.remove('active');
        }
        function openModal(id) { document.getElementById(id).classList.add('active'); }
        function closeModal(id) { document.getElementById(id).classList.remove('active'); }

        function descargar(os) {
            let file = (os === 'android') ? 'Shadow Hope 1 Android.apk' : 'Shadow Hope 1.zip';
            window.location.href = file;
            alert("Iniciando descarga...");
        }

        function pasoRegistro(n) {
            document.getElementById('reg-p-1').style.display = 'none';
            document.getElementById('reg-p-2').style.display = 'none';
            document.getElementById('reg-p-3').style.display = 'none';
            document.getElementById('reg-p-' + n).style.display = 'block';
        }

        function enviarBug() {
            alert("¬°Gracias! Reporte enviado.");
            document.getElementById('bug-text').value = "";
        }
    </script>
</body>
</html>